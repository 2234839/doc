<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    ${res.header_template}
    <script
      des="monaco-editor携带的loader"
      src="/node_modules/monaco-editor/min/vs/loader.js"
    ></script>
    <title>${file.title} - 崮生</title>
  </head>
  <body>
    ${file.html}
    <footer>${res.footer_template}</footer>
    <script>
      /** 高亮代码块 */
      const code = document.querySelectorAll("code[run]");
      if (code === null) throw "未找到code块";
      require.config({ paths: { vs: "/node_modules/monaco-editor/min/vs" } });
      require(["vs/editor/editor.main"], function() {
        code.forEach(function(el) {
          var editor = monaco.editor.create(el.parentElement, {
            value: el.innerText,
            language: getLanguage(el),

            minimap: {
              //代码略缩图
              enabled: false,
            },
            theme: "vs",
            automaticLayout: true,
            scrollBeyondLastLine: false,
          });
        });
      });
      function getLanguage(el) {
        return el.className.match(/lang-(.*)\\b/)[1];
      }
    </script>
  </body>
</html>
