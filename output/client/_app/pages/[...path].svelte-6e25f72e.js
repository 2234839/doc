import{S as t,i as e,s as n,e as l,c as o,a as r,d as c,b as a,f as s,t as i,g as h,E as u,D as f,h as d,G as m,a3 as p,k as v,l as g,a4 as b,n as k,F as y,H as E,ab as x,z as w,ac as A,ad as C,ae as I,K as $}from"../chunks/vendor-07ad4faf.js";import{A as j}from"../chunks/fetch-eb728030.js";import{g as D}from"../chunks/stores-998882df.js";import{r as L}from"../chunks/singletons-6b53f818.js";const V=async function(t,e){return L.goto(t,e,[])};const{document:q}=A;function S(t,e,n){const l=t.slice();return l[14]=e[n],l}function U(t,e,n){const l=t.slice();return l[19]=e[n],l[21]=n,l}function P(t){let e,n=t[6],i=[];for(let l=0;l<n.length;l+=1)i[l]=_(U(t,n,l));return{c(){e=l("nav");for(let t=0;t<i.length;t+=1)i[t].c();this.h()},l(t){e=o(t,"NAV",{class:!0,title:!0});var n=r(e);for(let e=0;e<i.length;e+=1)i[e].l(n);n.forEach(c),this.h()},h(){a(e,"class","flex text-sm mt-1"),a(e,"title","ÂΩìÂâçÈ°µÁöÑÁà∂ÁõÆÂΩï")},m(t,n){s(t,e,n);for(let l=0;l<i.length;l+=1)i[l].m(e,null)},p(t,l){if(576&l){let o;for(n=t[6],o=0;o<n.length;o+=1){const r=U(t,n,o);i[o]?i[o].p(r,l):(i[o]=_(r),i[o].c(),i[o].m(e,null))}for(;o<i.length;o+=1)i[o].d(1);i.length=n.length}},d(t){t&&c(e),m(i,t)}}}function R(t){let e;return{c(){e=i("/")},l(t){e=h(t,"/")},m(t,n){s(t,e,n)},d(t){t&&c(e)}}}function _(t){let e,n,m=t[19]+"",p=t[21]<t[6].length-1&&R();return{c(){e=l("a"),n=i(m),p&&p.c(),this.h()},l(t){e=o(t,"A",{class:!0,style:!0,href:!0});var l=r(e);n=h(l,m),p&&p.l(l),l.forEach(c),this.h()},h(){a(e,"class","c-bread bg-red-100 px-1 rounded-sm"),u(e,"margin-right","0px"),a(e,"href",t[9](t[21]))},m(t,l){s(t,e,l),f(e,n),p&&p.m(e,null)},p(t,l){64&l&&m!==(m=t[19]+"")&&d(n,m),t[21]<t[6].length-1?p||(p=R(),p.c(),p.m(e,null)):p&&(p.d(1),p=null)},d(t){t&&c(e),p&&p.d()}}}function T(t){return{c:y,l:y,m:y,p:y,d:y}}function z(t){let e,n,u,d,m,v,g,b,k,y,E=t[17].browser_js_count+"",x=t[17].readCount+"",w={ctx:t,current:null,token:null,hasCatch:!1,pending:F,then:W,catch:B,value:18};return p(y=t[4],w),{c(){e=l("div"),n=l("div"),u=i("b "),d=i(E),m=i("\r\n\t\t\t,\r\n\t\t\t"),v=l("div"),g=i("r "),b=i(x),k=i("\r\n\t\t\t,\r\n\t\t\t"),w.block.c(),this.h()},l(t){e=o(t,"DIV",{class:!0});var l=r(e);n=o(l,"DIV",{title:!0});var a=r(n);u=h(a,"b "),d=h(a,E),a.forEach(c),m=h(l,"\r\n\t\t\t,\r\n\t\t\t"),v=o(l,"DIV",{title:!0});var s=r(v);g=h(s,"r "),b=h(s,x),s.forEach(c),k=h(l,"\r\n\t\t\t,\r\n\t\t\t"),w.block.l(l),l.forEach(c),this.h()},h(){a(n,"title","ÊµèËßàÂô®ËøêË°åÊó∂js‰∏äÊä•Ê¨°Êï∞"),a(v,"title","Êú¨ÊñáË¢´ÂçöÂÆ¢Á®ãÂ∫èËØªÂèñÁöÑÊ¨°Êï∞"),a(e,"class","flex text-sm text-red-400")},m(t,l){s(t,e,l),f(e,n),f(n,u),f(n,d),f(e,m),f(e,v),f(v,g),f(v,b),f(e,k),w.block.m(e,w.anchor=null),w.mount=()=>e,w.anchor=null},p(e,n){if(t=e,w.ctx=t,16&n&&y!==(y=t[4])&&p(y,w));else{const e=t.slice();e[18]=w.resolved,w.block.p(e,n)}},d(t){t&&c(e),w.block.d(),w.token=null,w=null}}}function B(t){return{c:y,l:y,m:y,p:y,d:y}}function W(t){let e,n,u,m,p,v=t[18]+"";return{c(){e=l("div"),n=i("‚ù§ "),u=i(v),this.h()},l(t){e=o(t,"DIV",{title:!0});var l=r(e);n=h(l,"‚ù§ "),u=h(l,v),l.forEach(c),this.h()},h(){a(e,"title","ÂñúÊ¨¢Êï∞ÔºåÁÇπÂáª +1")},m(l,o){s(l,e,o),f(e,n),f(e,u),m||(p=$(e,"click",t[10]),m=!0)},p(t,e){16&e&&v!==(v=t[18]+"")&&d(u,v)},d(t){t&&c(e),m=!1,p()}}}function F(t){let e,n;return{c(){e=l("div"),n=i("‚ù§ Ê≠£Âú®ËØ¢ÈóÆ‰∏≠")},l(t){e=o(t,"DIV",{});var l=r(e);n=h(l,"‚ù§ Ê≠£Âú®ËØ¢ÈóÆ‰∏≠"),l.forEach(c)},m(t,l){s(t,e,l),f(e,n)},p:y,d(t){t&&c(e)}}}function K(t){return{c:y,l:y,m:y,p:y,d:y}}function N(t){let e,n,l=t[0].html+"";return{c(){n=g(),this.h()},l(t){n=g(),this.h()},h(){e=new C(n)},m(t,o){e.m(l,t,o),s(t,n,o)},p(t,n){1&n&&l!==(l=t[0].html+"")&&e.p(l)},d(t){t&&c(n),t&&e.d()}}}function O(t){let e,n=t[2],a=[];for(let l=0;l<n.length;l+=1)a[l]=G(S(t,n,l));return{c(){e=l("ul");for(let t=0;t<a.length;t+=1)a[t].c()},l(t){e=o(t,"UL",{});var n=r(e);for(let e=0;e<a.length;e+=1)a[e].l(n);n.forEach(c)},m(t,n){s(t,e,n);for(let l=0;l<a.length;l+=1)a[l].m(e,null)},p(t,l){if(4&l){let o;for(n=t[2],o=0;o<n.length;o+=1){const r=S(t,n,o);a[o]?a[o].p(r,l):(a[o]=G(r),a[o].c(),a[o].m(e,null))}for(;o<a.length;o+=1)a[o].d(1);a.length=n.length}},d(t){t&&c(e),m(a,t)}}}function G(t){let e,n,u,m,p=t[14].title+"";return{c(){e=l("li"),n=l("a"),u=i(p),this.h()},l(t){e=o(t,"LI",{});var l=r(e);n=o(l,"A",{rel:!0,href:!0});var a=r(n);u=h(a,p),a.forEach(c),l.forEach(c),this.h()},h(){a(n,"rel","prefetch"),a(n,"href",m=t[14].path)},m(t,l){s(t,e,l),f(e,n),f(n,u)},p(t,e){4&e&&p!==(p=t[14].title+"")&&d(u,p),4&e&&m!==(m=t[14].path)&&a(n,"href",m)},d(t){t&&c(e)}}}function H(t){let e,n,u,d,m,E,x,w,A,I,$,j,D,L,V,S,U,R,_,B,W,F,G,H,M,Q,J;q.title=e=t[1]+" - Â¥ÆÁîü";let X=t[6].length>1&&P(t),Y={ctx:t,current:null,token:null,hasCatch:!1,pending:K,then:z,catch:T,value:17};function Z(t,e){return t[2]?O:t[0]?N:void 0}p(t[8],Y);let tt=Z(t),et=tt&&tt(t);return{c(){n=v(),u=l("div"),X&&X.c(),d=v(),Y.block.c(),m=v(),et&&et.c(),E=v(),x=l("blockquote"),w=l("p"),A=i("by Â¥ÆÁîü from "),I=l("a"),$=i("Â¥ÆÁîü ‚Ä¢ ‰∏Ä‰∫õÈöèÁ¨î üé®"),j=i(",Ê¨¢Ëøé\r\n\t\t"),D=l("a"),L=i("ËµûÂä©Êú¨Êñá"),V=v(),S=l("br"),U=v(),R=l("a"),_=i("Êú¨Êñá"),W=i("Ê¨¢ËøéÂàÜ‰∫´‰∏éËÅöÂêàÔºåÂÖ®ÊñáËΩ¨ËΩΩÊú™ÁªèÊéàÊùÉÔºà\r\n\t\t"),F=l("a"),G=i("ËÅîÁ≥ªÊàë"),H=i("Ôºâ‰∏çËÆ∏ÂèØ„ÄÇ"),M=v(),J=g(),this.h()},l(t){b('[data-svelte="svelte-h4beo6"]',q.head).forEach(c),n=k(t),u=o(t,"DIV",{class:!0});var e=r(u);X&&X.l(e),d=k(e),Y.block.l(e),e.forEach(c),m=k(t),et&&et.l(t),E=k(t),x=o(t,"BLOCKQUOTE",{class:!0});var l=r(x);w=o(l,"P",{});var a=r(w);A=h(a,"by Â¥ÆÁîü from "),I=o(a,"A",{href:!0});var s=r(I);$=h(s,"Â¥ÆÁîü ‚Ä¢ ‰∏Ä‰∫õÈöèÁ¨î üé®"),s.forEach(c),j=h(a,",Ê¨¢Ëøé\r\n\t\t"),D=o(a,"A",{href:!0,title:!0});var i=r(D);L=h(i,"ËµûÂä©Êú¨Êñá"),i.forEach(c),V=k(a),S=o(a,"BR",{}),U=k(a),R=o(a,"A",{href:!0});var f=r(R);_=h(f,"Êú¨Êñá"),f.forEach(c),W=h(a,"Ê¨¢ËøéÂàÜ‰∫´‰∏éËÅöÂêàÔºåÂÖ®ÊñáËΩ¨ËΩΩÊú™ÁªèÊéàÊùÉÔºà\r\n\t\t"),F=o(a,"A",{class:!0,href:!0});var p=r(F);G=h(p,"ËÅîÁ≥ªÊàë"),p.forEach(c),H=h(a,"Ôºâ‰∏çËÆ∏ÂèØ„ÄÇ"),a.forEach(c),l.forEach(c),M=k(t),J=g(),this.h()},h(){a(u,"class","flex justify-between mb-4"),a(I,"href","https://shenzilong.cn"),a(D,"href","https://afdian.net/@llej0"),a(D,"title","ÁúüÁöÑÊòØÈùûÂ∏∏ÊÑüË∞¢ „Éæ(‚âß‚ñΩ‚â¶*)o"),a(R,"href",B=t[3].path),a(F,"class","c-block-ref"),a(F,"href","//shenzilong.cn/%e5%85%b3%e4%ba%8e/%e7%94%b3%e5%ad%90%e9%be%99.html#20201228124011-yky6n68"),a(x,"class","mt-4 text-sm"),Q=new C(J)},m(e,l){s(e,n,l),s(e,u,l),X&&X.m(u,null),f(u,d),Y.block.m(u,Y.anchor=null),Y.mount=()=>u,Y.anchor=null,s(e,m,l),et&&et.m(e,l),s(e,E,l),s(e,x,l),f(x,w),f(w,A),f(w,I),f(I,$),f(w,j),f(w,D),f(D,L),f(w,V),f(w,S),f(w,U),f(w,R),f(R,_),f(w,W),f(w,F),f(F,G),f(w,H),s(e,M,l),Q.m(t[5],e,l),s(e,J,l)},p(n,[l]){t=n,2&l&&e!==(e=t[1]+" - Â¥ÆÁîü")&&(q.title=e),t[6].length>1?X?X.p(t,l):(X=P(t),X.c(),X.m(u,d)):X&&(X.d(1),X=null);{const e=t.slice();e[17]=Y.resolved,Y.block.p(e,l)}tt===(tt=Z(t))&&et?et.p(t,l):(et&&et.d(1),et=tt&&tt(t),et&&(et.c(),et.m(E.parentNode,E))),8&l&&B!==(B=t[3].path)&&a(R,"href",B),32&l&&Q.p(t[5])},i:y,o:y,d(t){t&&c(n),t&&c(u),X&&X.d(),Y.block.d(),Y.token=null,Y=null,t&&c(m),et&&et.d(t),t&&c(E),t&&c(x),t&&c(M),t&&c(J),t&&Q.d()}}}const M=async function({page:t,fetch:e,session:n,context:l}){const o=decodeURIComponent(t.path);if(o.endsWith(".html")){const e=o.replace(/\.html/,".md"),n=await j.getArticleByPath(e);if(-1===n.code)return{status:302,redirect:"/share/backups?path="+o};const l=n.result;return{status:200,props:{time:Date.now(),page:t,article:l,title:l.title}}}if(o.endsWith("/")||!1===o.split("/").pop().includes(".")){const n=await e("/menu.json?path="+o).then((t=>t.json())),l=decodeURIComponent(o).split(/[\/\\]/).filter((t=>t)).reverse().join("<");return{status:200,props:{time:Date.now(),page:t,menu:n,title:l}}}return{status:404,error:new Error("not Found")}};function Q(t,e,n){let l,o;var r=this&&this.__awaiter||function(t,e,n,l){return new(n||(n=Promise))((function(o,r){function c(t){try{s(l.next(t))}catch(e){r(e)}}function a(t){try{s(l.throw(t))}catch(e){r(e)}}function s(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(c,a)}s((l=l.apply(t,e||[])).next())}))};let{article:c}=e,{title:a}=e,{menu:s}=e;const{page:i}=D();E(t,i,(t=>n(3,o=t)));const h=j.getËÆøÈóÆËÆ∞ÂΩï(o.path);let u=Promise.resolve(h.then((t=>t.praise)));let f=[];function d(t,e){const n=e,l=n.href.split("#")[0].toLowerCase(),o=location.href.split("#")[0].toLowerCase();console.log("[path]",l===o,n.getAttribute("href")||"",decodeURIComponent(l)),l===o?(n.getAttribute("href")||"").startsWith("#")||t.preventDefault():(V(n.href),t.preventDefault())}x((()=>{"undefined"!=typeof document&&document.querySelectorAll(".run-code,.g-editor_div").forEach((t=>t.remove())),f.forEach((t=>t()))})),w((()=>r(void 0,void 0,void 0,(function*(){console.log("Ëß¶Âèë [path(.+)] onMount"),console.log(document.body.classList);let t=null;f.push(function(t,e,n,l){const o=e=>{let o=e.target;const r=Array.from(t.querySelectorAll(n));for(;o!=t&&o.parentElement;)r.includes(o)&&l(e,o),o=o.parentElement};return t.addEventListener(e,o),function(){t.removeEventListener(e,o)}}(document.body,"click","a",d)),setTimeout((()=>r(void 0,void 0,void 0,(function*(){for(;;){if("undefined"!=typeof md2website){md2website.gotoClick=t=>{d(t,t.target)};break}yield new Promise((t=>setTimeout(t,10)))}})))),i.subscribe((()=>{t!==(null==c?void 0:c.html)&&(!function(){console.log("Ëß¶Âèë render"),n(5,m+="");const t=I.parse(location.href);t.blockId&&setTimeout((()=>{var e,n;e=`[data-block-id="${t.blockId}"]`,null===(n=document.querySelector(e))||void 0===n||n.scrollIntoView(!0)}),500);document.querySelectorAll("span.vditor-math").forEach((t=>{t.textContent="$"+t.textContent+"$"})),document.querySelectorAll("div.vditor-math").forEach((t=>{t.textContent="$$\n"+t.textContent+"\n$$"}))}(),(null==c?void 0:c.html)&&(t=null==c?void 0:c.html))}))}))));let m='\n  \x3c!-- Ë∞∑Ê≠å Â∫ïÈÉ®Ê®™ÂπÖÂπøÂëä  --\x3e\n  <ins class="adsbygoogle"\n      style="display:block"\n      data-ad-client="ca-pub-7181140659254262"\n      data-ad-slot="4668486093"\n      data-ad-format="auto"\n      data-full-width-responsive="true"></ins>\n  <script>\n     (adsbygoogle = window.adsbygoogle || []).push({});\n<\/script>';return t.$$set=t=>{"article"in t&&n(0,c=t.article),"title"in t&&n(1,a=t.title),"menu"in t&&n(2,s=t.menu)},t.$$.update=()=>{8&t.$$.dirty&&n(6,l=decodeURIComponent(o.path).split("/"))},[c,a,s,o,u,m,l,i,h,function(t){return l.slice(0,t+1).map((t=>t)).join("/")+(t!==l.length-1?"/":"")},function(){n(4,u=j.ÁÇπËµû(o.path))}]}export default class extends t{constructor(t){super(),e(this,t,Q,H,n,{article:0,title:1,menu:2})}}export{M as load};
