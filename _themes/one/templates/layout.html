<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <meta
      name="description"
      content="å´®ç”Ÿçš„å­¦ä¹ ç¬”è®°è®°å½•ç«™ç‚¹ï¼Œåœ¨è¿™é‡Œå°†æ¶‰åŠåˆ°æœ‰å…³ç¼–ç¨‹çš„ä¸€äº›çŸ¥è¯†ã€‚
	  å…¶ä¸­å¤§éƒ¨åˆ†æ˜¯å…³äºECMAScriptçš„"
    />
    <meta baidu-gxt-verify-token="6c7b8ed28c794c77076efaf51af4593e" title="ç™¾åº¦è§‚æµ‹" />
    <meta name="google-site-verification" content="zryWPE68mHndlirad-4TTJ5WwbpROalM2XmIv9VU3Oo" />
    <meta name="baidu-site-verification" content="ZtTgMLojrB" />
    <meta name="theme-color" content="#673ab8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="generator" content="{{system.name}} {{system.version}}" />
    <meta name="theme" content="{{theme.name}} {{theme.version}}" />
    <title>å´®ç”Ÿ-{% block title%}{% endblock %}</title>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
    <script>
      (adsbygoogle = window.adsbygoogle || []).push({
        google_ad_client: "ca-pub-7181140659254262",
        enable_page_level_ads: true,
      });
    </script>
    <link
      rel="stylesheet"
      href="https://unpkg.com/purecss@1.0.1/build/pure-min.css"
      integrity="sha384-oAOxQR6DkCoMliIh8yFnu25d7Eq/PHS21PClpwjOTeU2jRSq11vu66rf90/cZr47"
      crossorigin="anonymous"
    />
    {%- if config.touchIcon %}
    <link rel="apple-touch-icon" href="{{ config.touchIcon }}" />
    {%- endif %} {%- if config.feedurl %}
    <link
      rel="alternate"
      type="application/rss+xml"
      href="{{config.feedurl}}"
      title="{{config.sitename}}"
    />
    {%- endif %}
    <link rel="stylesheet" href="{{static_url('one.css')}}" />
    {%- block afterstyle %}{% endblock %} {%- if config.google %}
    <!-- <script type="text/javascript">
		var _gaq = _gaq || [];
		_gaq.push(['_setAccount', '{{config.google}}']);
		_gaq.push(['_trackPageview']);
		_gaq.push(['_trackPageLoadTime']);
	</script> -->
    {%- endif %}
    <link rel="shortcut icon" href="{{ static_url('favicon.ico') }}" type="image/x-icon" />
    <link rel="stylesheet" href="{{ static_url('default.min.css') }}" />
    <!-- Global site tag (gtag.js) -  -->
    <script
      async
      des="Google Analytics"
      src="https://www.googletagmanager.com/gtag/js?id=UA-139738006-1"
    ></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "UA-139738006-1");
    </script>
    <script
      title="vscodeçš„ç¼–è¾‘å™¨çš„åŠ è½½"
      src="/node_modules/monaco-editor/min/vs/loader.js"
    ></script>
    <script title="require ts çš„æ”¹é€ ">
      /** éœ€è¦æ¨¡å—æœ‰ä¸€ä¸ªé»˜è®¤è¾“å‡ºå›è°ƒæ‰èƒ½èµ·åˆ°æ•ˆç”¨ export default */
      function requireTs(filepath, fun) {
        var pathname = decodeURIComponent(location.pathname);
        var fileName = pathname.match(/(.+)(\/.*)/)[2];
        var current_path = "/build-ts/content" + pathname.replace(fileName, "/");
        require(filepath.map((path) => {
          if (/\.ts$/.test(path)) {
            /** å¦‚æœæ˜¯tsæ–‡ä»¶ */
            path = path.replace(/^\.\//, current_path);
            path = path.replace(/\.ts$/, "");
          }
          return path;
        }), fun);
      }
    </script>
  </head>

  <body>
    <div class="header">
      <div class="container">
        <div class="brand">
          <a class="home" href="{{content_url('index.html')}}">{{config.sitename}}</a>
          {%- if config.tagline %} - <span class="tagline">{{ config.tagline }}</span>
          {%- endif %}
        </div>
        {%- if config.navigation %}
        <div class="menu" role="navigation">
          {%- for item in config.navigation %}
          <a href="{{content_url(item.link)}}">{{item.title}}</a>
          {%- endfor %}

          <div id="gcse-search" title="è°ƒç”¨googleæ¥æœç´¢æœ¬ç«™">
            <script
              async
              src="https://cse.google.com/cse.js?cx=002678755313322921676:9sk6ox6pg2f"
            ></script>
            <div class="gcse-search"></div>
          </div>
        </div>
        {%- endif %}
      </div>
    </div>
    <div class="document yue">
      {%- block document %} {%- endblock %}
    </div>
    <div class="footer" style="clear: both;">
      {%- if config.footer %} {{config.footer}} {%- endif %} {%- if not config.hideNico %}
      <p class="copyright">
        powered by <a href="{{system.homepage}}">{{system.name}}</a> {{system.version}}
      </p>
      {%- endif %}
      <a href="https://shenzilong.cn/blog/feed">
        <img style="height: 16px" src="{{ static_url('feed.png') }}" alt="rssè®¢é˜…" />
      </a>
      <!-- åº•éƒ¨è°·æ­Œå¹¿å‘Šå•å…ƒ -->
      <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
      <ins
        class="adsbygoogle"
        style="display:block"
        data-ad-client="ca-pub-7181140659254262"
        data-ad-slot="9720207698"
        data-ad-format="auto"
        data-full-width-responsive="true"
      ></ins>
      <script>
        (adsbygoogle = window.adsbygoogle || []).push({});
      </script>
      <!-- åº•éƒ¨è°·æ­Œå¹¿å‘Šå•å…ƒ -->
    </div>
    {%- if config.github %}
    <div class="github">
      <a class="github-link" href="{{config.github}}" title="å­˜æ”¾ä¸€äº›æˆ‘çš„ä»£ç ">ä»£ç åº“-git</a>
    </div>
    {%- endif %}
    <script src="{{ static_url('one.js') }}"></script>
  </body>
</html>
<script>
  /** é«˜äº®ä»£ç å— */
  if (document.querySelector("pre") !== null) {
    require.config({ paths: { vs: "/node_modules/monaco-editor/min/vs" } });
    require(["vs/editor/editor.main"], function() {
      document.querySelectorAll("pre").forEach(function(el) {
        var div = document.createElement("div");
        var editor = monaco.editor.create(div, {
          value: el.innerText,
          language: getLanguage(el),
          //ä»£ç ç•¥ç¼©å›¾
          minimap: {
            enabled: false,
          },
          theme: "vs",
          automaticLayout: true,
          scrollBeyondLastLine: false,
        });
        /** è¿™ä¸ªé«˜åº¦çš„ç®—æ³•æ˜¯å› ä¸ºvsçš„è¡Œé«˜ä¸º19è€ŒåŸæ¥çš„è¡Œé«˜ä¸º28 */
        let lines = el.offsetHeight / 27;
        if (lines > 20) lines = 20;
        div.style = `
					height:${lines * 19 + "px"};
					width: 100%;
					margin-bottom: 10px;
				`;
        if (getLanguage(el) === "javascript" || getLanguage(el) === "js") {
          var tool_bar = document.createElement("div");
          tool_bar.classList.add(".tool_bar");
          tool_bar.classList.add("tool-bar");
          tool_bar.style = `font-size:60%;position: relative;`;
          tool_bar.innerHTML = `<button class="run pure-button pure-button-primary button-xsmall" style="
						position: absolute;
						z-index: 1;
						right: 8px;
						top: -32px;
					">â–·</button>`;
          div.appendChild(tool_bar);

          tool_bar.querySelector(".run").addEventListener("click", () => {
            eval(editor.getValue());
          });
        }

        el.parentElement.insertBefore(div, el);
        const code_el = div.parentElement.previousElementSibling;
        if (div.querySelector(".tool_bar") && code_el.tagName !== "SCRIPT") {
          /** è¿™äº›æ˜¯ä¸å¯æ‰§è¡Œçš„ä»£ç  */
          div.querySelector(".tool_bar").style.display = "none";
        }
        el.style.display = "none"; /** éšè—åŸæ¥çš„é‚£äº›ä»£ç å— */
        editor.onDidChangeModelContent((e) => {
          if (code_el.classList.contains("nico-insert-code") || code_el.tagName === "STYLE") {
            code_el.innerHTML = editor.getValue();
          }
          let lines = editor.getModel().getLinesContent().length;
          if (lines > 20) lines = 20;
          div.style.height = lines * 19 + "px";
        });
      });
    });
  }
  function getLanguage(el) {
    var language = el.getAttribute("language");
    /** å»é™¤åé¢çš„+å· */
    return language.replace(/\+$/, "");
  }
  window.addEventListener("load", function() {
    //å› ä¸ºmdæ–‡æ¡£ä¸­ç›´æ¥é“¾æ¥åˆ°å…¶ä»–æ–‡ä»¶ä¼šå¯¼è‡´æ²¡æœ‰.html åç¼€ç„¶åè®¿é—®ä¸åˆ°èµ„æºï¼Œæ•…å‡ºæ­¤ä¸‹ç­–
    let href = Array.from(document.querySelectorAll("p a[href]"));
    let yearReg = new RegExp(location.origin + "\/\\d\\d\\d\\d(.*)");
    href.forEach((v) => {
      //å»é™¤ 2019 è¿™æ ·çš„å¹´ä»½ä¸­ç¼€
      if (yearReg.test(v.href)) v.href = location.origin + v.href.match(yearReg)[1];
    });
  });
  (() => {
    var title = document.title;
    var i = 0;
    setInterval(function() {
      i = (i + 1) % 8;
      document.title = title + [..."ğŸŒ‘ğŸŒ’ğŸŒ“ğŸŒ”ğŸŒğŸŒ–ğŸŒ—ğŸŒ˜"][i];
    }, 360);
  })();
</script>

<script title="ç™¾åº¦è‡ªåŠ¨æ¨é€">
  (function() {
    var bp = document.createElement("script");
    var curProtocol = window.location.protocol.split(":")[0];
    if (curProtocol === "https") {
      bp.src = "https://zz.bdstatic.com/linksubmit/push.js";
    } else {
      bp.src = "http://push.zhanzhang.baidu.com/push.js";
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();
  //ç™¾åº¦ç»Ÿè®¡
  var _hmt = _hmt || [];
  (function() {
    var hm = document.createElement("script");
    hm.src = "https://hm.baidu.com/hm.js?65b233cad1f8e842306698cecb350624";
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(hm, s);
  })();
</script>
