<!DOCTYPE html>
    <html
      lang="zh_CN"
      data-theme-mode="light"
      data-light-theme="daylight"
      data-dark-theme="midnight"
    >
      <head>
        
        <meta charset="utf-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta
          name="viewport"
          content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"
        />
        <meta name="apple-mobile-web-app-capable" content="yes" />
        <meta name="mobile-web-app-capable" content="yes" />
        <meta name="apple-mobile-web-app-status-bar-style" content="black" />
        <link
          rel="stylesheet"
          type="text/css"
          id="baseStyle"
          href="https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/build/export/base.css?2.10.5"
        />
        <link
          rel="stylesheet"
          type="text/css"
          id="themeDefaultStyle"
          href="https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/appearance/themes/daylight/theme.css?2.10.5"
        />

        <title>ä¸€ä¸ªç®€ç®€å•å•çš„ TypeScript RPC è§£å†³æ–¹æ¡ˆ</title>
        <style>
          body {
            background-color: var(--b3-theme-background);
            color: var(--b3-theme-on-background);
          }
          .b3-typography,
          .protyle-wysiwyg,
          .protyle-title {
            font-size: 16px !important;
          }
          .b3-typography code:not(.hljs),
          .protyle-wysiwyg span[data-type~="code"] {
            font-variant-ligatures: normal;
          }
          .li > .protyle-action {
            height: 34px;
            line-height: 34px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h1,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h2,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h3,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h4,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h5,
          .protyle-wysiwyg [data-node-id].li > .protyle-action ~ .h6 {
            line-height: 34px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action:after {
            height: 16px;
            width: 16px;
            margin: -8px 0 0 -8px;
          }
          .protyle-wysiwyg [data-node-id].li > .protyle-action svg {
            height: 14px;
          }
          .protyle-wysiwyg [data-node-id].li:before {
            height: calc(100% - 34px);
            top: 34px;
          }
          .protyle-wysiwyg [data-node-id] [spellcheck] {
            min-height: 26px;
          }
          .protyle-wysiwyg [data-node-id] {
          }
          .protyle-wysiwyg .li {
            min-height: 34px;
          }
          .protyle-gutters button svg {
            height: 26px;
          }
          .protyle-wysiwyg img.emoji,
          .b3-typography img.emoji {
            width: 18px;
          }
          .protyle-wysiwyg .h1 img.emoji,
          .b3-typography h1 img.emoji {
            width: 35px;
          }
          .protyle-wysiwyg .h2 img.emoji,
          .b3-typography h2 img.emoji {
            width: 31px;
          }
          .protyle-wysiwyg .h3 img.emoji,
          .b3-typography h3 img.emoji {
            width: 27px;
          }
          .protyle-wysiwyg .h4 img.emoji,
          .b3-typography h4 img.emoji {
            width: 25px;
          }
          .protyle-wysiwyg .h5 img.emoji,
          .b3-typography h5 img.emoji {
            width: 22px;
          }
          .protyle-wysiwyg .h6 img.emoji,
          .b3-typography h6 img.emoji {
            width: 20px;
          }
        </style>
      </head>
      <body>
        
        <div
          class="protyle-wysiwyg protyle-wysiwyg--attr"
          style="max-width: 800px;margin: 0 auto;"
          id="preview"
        >
          <div class="protyle-background protyle-background--enable" style="min-height: 150px;" id="20201121144434-sbev4ga" data-node-id="20201121144434-sbev4ga" data-type="NodeDocument" updated="20210609090256" data-subtype="h1" class="h1" type="doc"><div id="20201121144434-sbev4ga" data-node-id="20201121144434-sbev4ga" data-type="NodeDocument" updated="20210609090256" data-subtype="h1" class="h1" type="doc" data-type="NodeHeading" class="h1">ä¸€ä¸ªç®€ç®€å•å•çš„ TypeScript RPC è§£å†³æ–¹æ¡ˆ</div><div id="20210410114147-c1tluk3" data-node-id="20210410114147-c1tluk3" data-type="NodeParagraph" updated="20210410153823" class="p"><span data-type="block-ref"     data-subtype="d"     data-id="20210325155155-2wk7rxv">
          <a href="./../../tag/æ–‡ç« åˆ†äº«åˆ°çš„åœ°æ–¹ï¼š.html#20210325155155-2wk7rxv">æ–‡ç« åˆ†äº«åˆ°çš„åœ°æ–¹ï¼š</a>
  </span>
â€‹
<a href="https://zhuanlan.zhihu.com/p/281083041">ä¸€ä¸ªç®€ç®€å•å•çš„ TypeScript RPC è§£å†³æ–¹æ¡ˆ - å´®ç”Ÿçš„æ–‡ç«  - çŸ¥ä¹</a>
â€‹
<a href="https://www.zhihu.com/question/345364393/answer/1827394867">åœ¨ TypeScript å¤„ç†åç«¯APIè¿”å›çš„å“åº”æ•°æ®è¿™ä¸€å—ï¼Œä½ æˆ–è€…æ‰€åœ¨å›¢é˜Ÿéƒ½åšäº†å“ªäº›æ¯”è¾ƒå¥½çš„å®è·µå‘¢ï¼Ÿ - å´®ç”Ÿçš„å›ç­” - çŸ¥ä¹</a>
</div>
<div id="20210410154327-bahzt0o" data-node-id="20210410154327-bahzt0o" data-type="NodeParagraph" updated="20210410154327" class="p"></div>
<div id="20230905115155-a1bzkzw" data-node-id="20230905115155-a1bzkzw" data-type="NodeBlockquote" class="bq">
<div id="20230905115155-ds83r5g" data-node-id="20230905115155-ds83r5g" data-type="NodeParagraph" class="p">æœ‰æ—¶å€™ä¸éœ€è¦ä»€ä¹ˆã€Œåˆ†å¸ƒå¼ã€ï¼Œå‰åç«¯ã€Œé¡¹ç›®åˆ†ç¦»ã€ã€‚
</div>
<div id="20230905115155-cnlf2cw" data-node-id="20230905115155-cnlf2cw" data-type="NodeParagraph" class="p">åªæ˜¯æƒ³å¯ä»¥æ–¹ä¾¿è°ƒç”¨ä¸€ä¸ªæ¥å£ã€ä¸å»å†™æ¥å£æ–‡æ¡£ã€è¿˜æœ‰æœ‰å®Œå–„çš„æ–¹æ³•ç±»å‹æç¤ºè€Œå·²ã€‚
</div>
<div id="20230905115155-buna54f" data-node-id="20230905115155-buna54f" data-type="NodeParagraph" class="p">ä½•å¿…é‚£ä¹ˆå¤æ‚å‘¢ã€‚......
</div>
<div id="20230905115155-cy777l4" data-node-id="20230905115155-cy777l4" data-type="NodeParagraph" class="p">è¿™é‡Œæä¾›è¶…è½»é‡çº§çš„è¿œç¨‹è°ƒç”¨ï¼Œå®Œå¤‡çš„ç±»å‹æç¤ºï¼
</div>
</div>
<div id="20230905115155-y56ufqk" data-node-id="20230905115155-y56ufqk" data-type="NodeParagraph" class="p"><a href="https://codesandbox.io/s/github/2234839/typescript_RPC_demo?utm_medium=plugin&file=/src/rpc.ts">codesandbox ä½“éªŒåœ°å€</a>
 codesandbox çš„ç±»å‹æç¤ºè¿˜ä¸å¤ªè¡Œï¼Œæœ¬åœ°å¼€å‘æ˜¯æ²¡æœ‰é—®é¢˜çš„
</div>
<div id="20230905115155-7oo1goa" data-node-id="20230905115155-7oo1goa" data-type="NodeParagraph" class="p"><a href="https://github.com/2234839/typescript_RPC_demo">demo  github åœ°å€</a>
</div>
<div id="20230905115155-tef6xdb" data-node-id="20230905115155-tef6xdb" data-type="NodeParagraph" class="p"><span data-type="NodeImage" class="img" style="undefined"
      ><img
        src="./../../assets/20201109143728-hfw4r7v-image.png"
        data-src="./../../assets/20201109143728-hfw4r7v-image.png"
        title=""
        style="undefined"
        loading="lazy"
      /><span class="protyle-action__title"></span></span
    >
</div>
<div id="20230905115155-9om7dk6" data-node-id="20230905115155-9om7dk6" data-type="NodeHeading" updated="20210415103138" data-subtype="h2" class="h2"><div>
0x00 æœåŠ¡ç«¯æ–¹æ³•
</div></div>
<div id="20230905115155-6tii4vn" data-node-id="20230905115155-6tii4vn" data-type="NodeCodeBlock" class="code-block">
        <div class="protyle-action">
          <span class="protyle-action--first protyle-action__language">
          typescript
          </span>
            <span class="fn__flex-1"></span>
            <span class="protyle-icon protyle-icon--only protyle-action__copy">
            <svg><use xlink:href="#iconCopy"></use></svg>
          </span>
        </div>
        <div class="hljs" spellcheck="false">// apis/time.ts
export function currentTime() {
  return Date.now();
}

export function currentTime2(toLocaleString: boolean) {
  if (toLocaleString) {
    return new Date().toLocaleString();
  } else {
    return Date.now();
  }
}
</div>
      </div>
<div id="20230905115155-zdmk94i" data-node-id="20230905115155-zdmk94i" data-type="NodeParagraph" class="p">è¿™é‡Œéšä¾¿å†™äº†å‡ ä¸ªæ–¹æ³•
</div>
<div id="20230905115155-xlf5w29" data-node-id="20230905115155-xlf5w29" data-type="NodeHeading" updated="20210415103141" data-subtype="h2" class="h2"><div>
0x01 èšåˆ
</div></div>
<div id="20230905115155-zt1fooc" data-node-id="20230905115155-zt1fooc" data-type="NodeCodeBlock" class="code-block">
        <div class="protyle-action">
          <span class="protyle-action--first protyle-action__language">
          typescript
          </span>
            <span class="fn__flex-1"></span>
            <span class="protyle-icon protyle-icon--only protyle-action__copy">
            <svg><use xlink:href="#iconCopy"></use></svg>
          </span>
        </div>
        <div class="hljs" spellcheck="false">// apis/index.ts
export * from "./time";
</div>
      </div>
<div id="20230905115155-g8yorf4" data-node-id="20230905115155-g8yorf4" data-type="NodeParagraph" class="p">çº¦å®šä¿—ç§°çš„ç”¨ä¸€ä¸ª 
<span data-type="code">index.ts</span>
 æ–‡ä»¶å°†å…¶ä»–æ–‡ä»¶ä¸­çš„æ–¹æ³•èšåˆèµ·æ¥ã€‚
</div>
<div id="20230905115155-1u5mkax" data-node-id="20230905115155-1u5mkax" data-type="NodeHeading" updated="20210415103143" data-subtype="h2" class="h2"><div>
0x02 Remote Procedure Call !
</div></div>
<div id="20230905115155-43p7imx" data-node-id="20230905115155-43p7imx" data-type="NodeParagraph" class="p">Remote Procedure Call è¦è¯´çš„é«˜å¤§ä¸Šå‘¢é‚£ä¹Ÿæœ‰å¾ˆå¤šå¯ä»¥åšçš„ç»†èŠ‚ï¼Œä½†æˆ‘ä»¬è¿½æ±‚ç®€ç®€å•å•ã€‚
</div>
<div id="20230905115155-37yttsv" data-node-id="20230905115155-37yttsv" data-type="NodeCodeBlock" class="code-block">
        <div class="protyle-action">
          <span class="protyle-action--first protyle-action__language">
          typescript
          </span>
            <span class="fn__flex-1"></span>
            <span class="protyle-icon protyle-icon--only protyle-action__copy">
            <svg><use xlink:href="#iconCopy"></use></svg>
          </span>
        </div>
        <div class="hljs" spellcheck="false">// router/rpc.ts
import * as apis from "../apis";

export async function post(req: any, res: any) {
  const data = [] as any[];
  req.on("data", function (chunk) {
    data.push(chunk);
  });
  req.on("end", async () => {
    const { method, data: _data } = JSON.parse(data.join(""));
    const result = await apis[method](..._data);
    res.writeHead(200, {
      "Content-Type": "application/json"
    });
    res.end(JSON.stringify(result));
  });
}
</div>
      </div>
<div id="20230905115155-ml6f273" data-node-id="20230905115155-ml6f273" data-type="NodeParagraph" class="p">ç®€å•çš„è¿œç¨‹è°ƒç”¨åªéœ€è¦æš´éœ²ä¸€ä¸ªæ¥å£è®©ç”¨æˆ·å¯ä»¥è°ƒç”¨æœ¬æœºæ–¹æ³•å°±è¡Œäº†
</div>
<div id="20230905115155-mrbc48u" data-node-id="20230905115155-mrbc48u" data-type="NodeHeading" updated="20210415103146" data-subtype="h2" class="h2"><div>
0x03 TypeScript ! ğŸ‰
</div></div>
<div id="20230905115155-hi0wght" data-node-id="20230905115155-hi0wght" data-type="NodeCodeBlock" class="code-block">
        <div class="protyle-action">
          <span class="protyle-action--first protyle-action__language">
          typescript
          </span>
            <span class="fn__flex-1"></span>
            <span class="protyle-icon protyle-icon--only protyle-action__copy">
            <svg><use xlink:href="#iconCopy"></use></svg>
          </span>
        </div>
        <div class="hljs" spellcheck="false">//  rpc.ts
/** â•â•â•â•â•â•â•â•â•ğŸ³â€ğŸŒˆ è¶…è½»é‡çº§çš„è¿œç¨‹è°ƒç”¨ï¼Œå®Œå¤‡çš„ç±»å‹æç¤ºï¼ ğŸ³â€ğŸŒˆâ•â•â•â•â•â•â•â•â•  */
import type * as apis from "./apis";
type apis = typeof apis;
type method = keyof apis;

/** Remote call ï¼Œ ä¼šå°±è¿‘çš„é€‰æ‹©æ˜¯è¿œç¨‹è°ƒç”¨è¿˜æ˜¯ä½¿ç”¨æœ¬åœ°å‡½æ•° */
export function RC<K extends method>(
  method: K,
  data: Parameters<apis[K]>
): Promise<unPromise<ReturnType<apis[K]>>> {
  if (typeof window !== "undefined") {
    // å®¢æˆ·ç«¯è¿è¡Œ
    return fetch("/rpc", {
      method: "POST",
      body: JSON.stringify({ method, data }),
      headers: {
        "content-type": "application/json"
      }
    }).then((r) => r.json());
  } else {
    // æœåŠ¡ç«¯è¿è¡Œï¼Œä½¿ç”¨ import çš„åŸå› æ˜¯é¿å… apis çš„ä»£ç è¢«æ‰“åŒ…å‘é€åˆ°å®¢æˆ·ç«¯
    return import("./apis/index").then(async (r: any) => {
      return await r[method](...data);
    });
  }
}

/** è§£å¼€ promise ç±»å‹åŒ…è£… */
declare type unPromise<T> = T extends Promise<infer R> ? R : T;

// ç¤ºä¾‹ 1 ç›´æ¥ä½¿ç”¨ RC

RC("currentTime", []).then((r) => console.log("æœåŠ¡å™¨å½“å‰æ—¶é—´", r));
RC("currentTime2", [true]).then((r) => console.log("æœåŠ¡å™¨å½“å‰æ—¶é—´æœ¬åœ°åŒ–", r));

/** åŒ…è£…äº†ä¸€æ¬¡çš„ RC æ–¹ä¾¿è·³è½¬åˆ°å‡½æ•°å®šä¹‰  */
export const API = new Proxy(
  {},
  {
    get(target, p: method) {
      return (...arg: any) => RC(p, arg);
    }
  }
) as apisPromiseify;

/** apis ä¸­åŒ…å«çš„æ–¹æ³•å¯èƒ½ä¸æ˜¯è¿”å› promise çš„ï¼Œä½† RC è°ƒç”¨åçš„ä¸€å®šæ˜¯è¿”å› promsie */
type apisPromiseify = {
  readonly [K in keyof apis]: (
    ...arg: Parameters<apis[K]>
  ) => Promise<unPromise<ReturnType<apis[K]>>>;
};

// ç¤ºä¾‹ 2 é€šè¿‡ API å¯¹è±¡è°ƒç”¨å¯¹åº”æ–¹æ³•ï¼Œè¿™é‡Œçš„ä¼˜ç‚¹æ˜¯å¯ä»¥ç›´æ¥è·³è½¬åˆ°å¯¹åº”å‡½æ•°çš„æºç å¤„

API.currentTime().then((r) => console.log("æœåŠ¡å™¨å½“å‰æ—¶é—´", r));
API.currentTime2(true).then((r) => console.log("æœåŠ¡å™¨å½“å‰æ—¶é—´æœ¬åœ°åŒ–", r));

</div>
      </div>
<div id="20230905115155-3ntogyt" data-node-id="20230905115155-3ntogyt" data-type="NodeParagraph" class="p">ä¸Šé¢å°±æ˜¯ä¸€é¡¿ç±»å‹æ“ä½œï¼Œæ‰“å®Œæ”¶å·¥ã€‚
</div>
<div id="20230905115155-ox6u9vk" data-node-id="20230905115155-ox6u9vk" data-type="NodeParagraph" class="p">æ¥ä¸‹æ¥æ— è®ºæ˜¯åœ¨æœåŠ¡ç«¯è¿˜æ˜¯å®¢æˆ·ç«¯é€šè¿‡ RC æˆ– API æ¥è°ƒç”¨æ–¹æ³•è·å¾—çš„ä½“éªŒæ˜¯ä¸€æ¨¡ä¸€æ ·çš„ã€‚
</div>
<div id="20230905115155-kx10yph" data-node-id="20230905115155-kx10yph" data-type="NodeParagraph" class="p">å¹¶ä¸”é€šè¿‡ API å¯¹è±¡è°ƒç”¨å¯¹åº”æ–¹æ³•ï¼Œè¿™é‡Œçš„ä¼˜ç‚¹æ˜¯å¯ä»¥ç›´æ¥è·³è½¬åˆ°å¯¹åº”å‡½æ•°çš„æºç å¤„ã€‚å•¥ç±»å‹æç¤ºéƒ½æœ‰ï¼Œæ¥å£æ–‡æ¡£ä¹Ÿæ²¡æœ‰å¿…è¦äº†ã€‚
</div>
<div id="20210415103149-r8j4car" data-node-id="20210415103149-r8j4car" data-type="NodeHeading" updated="20210415104847" data-subtype="h2" class="h2"><div>
0x04 å®‰å…¨æ€§é—®é¢˜
</div></div>
<div id="20210415104855-4099tkm" data-node-id="20210415104855-4099tkm" data-type="NodeParagraph" updated="20210415104928" class="p">ä» github æŸ¥çœ‹æ­¤æ¬¡ä¿®æ”¹ï¼š 
<a href="https://github.com/2234839/typescript_RPC_demo/commit/e4e674cdcd16791fbaaf525b7c99c9084d550946">e4e674c</a>
</div>
<div id="20210415103705-dca2gwe" data-node-id="20210415103705-dca2gwe" data-type="NodeParagraph" updated="20210415103719" class="p">çŸ¥å‹æå‡ºäº†ä¸‹é¢è¿™ä¸ªé—®é¢˜
</div>
<div id="20210415103204-jvkalet" data-node-id="20210415103204-jvkalet" data-type="NodeBlockquote" updated="20210415103658" class="bq">
<div id="20210415103659-jsz34ww" data-node-id="20210415103659-jsz34ww" data-type="NodeParagraph" class="p"><a href="undefined">beeplin</a>
<a href="https://www.zhihu.com/people/beeplin">beeplin</a>
<span data-type="strong">æ˜¨å¤© 01:05</span>
</div>
<div id="20210415103659-lyhj1mn" data-node-id="20210415103659-lyhj1mn" data-type="NodeParagraph" class="p">ç”¨ dynamic import é€šè¿‡ webpack åˆ¶é€ ä¸€ä¸ª æ°¸è¿œä¸ä¼šè¢«å‰ç«¯å®é™…åŠ è½½çš„ chunkï¼Œä»è€Œé¿å…åç«¯å‡½æ•°ä»£ç è¢«æ‰“åŒ…åˆ°å‰ç«¯ï¼Œæˆ‘è¿™ä¸ªç†è§£æ­£ç¡®ä¹ˆï¼Ÿ
</div>
<div id="20210415103659-wgxup04" data-node-id="20210415103659-wgxup04" data-type="NodeParagraph" class="p">å¦‚æœæ²¡é”™çš„ç”»ï¼Œæœ‰ä¸ªæ½œåœ¨çš„é—®é¢˜ï¼Œè¿™ä¸ª chunk æ–‡ä»¶ä¾ç„¶æ˜¯æ”¾åœ¨ dist ç›®å½•ä¸‹çš„ï¼Œè™½ç„¶æ­£å¸¸æƒ…å†µä¸‹ä¸ä¼šå»ä¸»åŠ¨åŠ è½½ï¼Œä½†æ˜¯è¿˜æ˜¯æœ‰è¢«ç”¨æˆ·â€œå¶ç„¶â€çŒœå¯¹æ–‡ä»¶åä»è€ŒåŠ è½½åˆ°å‰ç«¯å¯¼è‡´ä»£ç æ³„éœ²çš„å¯èƒ½ã€‚æœ‰åŠæ³•è§£å†³è¿™ä¸ªé—®é¢˜ä¹ˆï¼Ÿ
</div>
</div>
<div id="20210415103724-o8n2ube" data-node-id="20210415103724-o8n2ube" data-type="NodeParagraph" updated="20210415103856" class="p">æˆ‘ç°åœ¨æƒ³å‡ºæ¥çš„è§£å†³æ–¹æ¡ˆå°±æ˜¯åˆ©ç”¨æ¡ä»¶ç¼–è¯‘æ¥ä½¿å¾—å‰ç«¯æ‰“åŒ…æ—¶ä¸å» 
<span data-type="code">import(&quot;./apis/index&quot;)</span>
 ,
</div>
<div id="20210415104022-zq7er4k" data-node-id="20210415104022-zq7er4k" data-type="NodeParagraph" updated="20210415104154" class="p">RC.ts ä»£ç å†…çš„æ¡ä»¶å¦‚ä¸‹å›¾è¿™æ ·æ”¹åŠ¨ï¼Œ
</div>
<div id="20210415103858-8nnpgm8" data-node-id="20210415103858-8nnpgm8" data-type="NodeParagraph" updated="20210415104059" class="p"><span data-type="NodeImage" class="img" style="undefined"
      ><img
        src="./../../assets/image-20210415104020-terddw3.png"
        data-src="./../../assets/image-20210415104020-terddw3.png"
        title=""
        style="undefined"
        loading="lazy"
      /><span class="protyle-action__title"></span></span
    >
</div>
<div id="20210415104228-1f4xpw0" data-node-id="20210415104228-1f4xpw0" data-type="NodeParagraph" updated="20210415104249" class="p"><span data-type="code">process.browser</span>
 æ¥è‡ªäº webpack æ’ä»¶çš„å®šä¹‰
</div>
<div id="20210415104158-t2yf6y3" data-node-id="20210415104158-t2yf6y3" data-type="NodeParagraph" updated="20210415104228" class="p"><span data-type="NodeImage" class="img" style="undefined"
      ><img
        src="./../../assets/image-20210415104225-nc4us9j.png"
        data-src="./../../assets/image-20210415104225-nc4us9j.png"
        title=""
        style="undefined"
        loading="lazy"
      /><span class="protyle-action__title"></span></span
    >
</div>
<div id="20210415104259-ugwphz5" data-node-id="20210415104259-ugwphz5" data-type="NodeParagraph" updated="20210415104543" class="p">è¿™æ ·æ”¹åŠ¨åå½“æ‰“åŒ…å‰ç«¯ä»£ç çš„æ—¶å€™æ‰“åŒ…å·¥å…·æ£€æµ‹åˆ° 
<span data-type="code">process.browser===true</span>
 ä¸€å®šæˆç«‹ï¼Œäºæ˜¯ä¼šåˆ å»æ¡ä»¶ä¸æˆç«‹åˆ†æ”¯çš„ä»£ç ï¼Œä¹‹åå†å¯¹ä»£ç è¿›æ€§ä¾èµ–åˆ†æä¹‹ç±»çš„å°±ä¸ä¼šå¼•å…¥ api.ts ä¸­çš„ä»£ç åˆ°å‰ç«¯ä»£ç ä¸­å»äº†
</div>
<div id="20210415104455-rszq85y" data-node-id="20210415104455-rszq85y" data-type="NodeParagraph" class="p"></div>
<div id="20230905115155-q995vgv" data-node-id="20230905115155-q995vgv" data-type="NodeHeading" updated="20210415104253" data-subtype="h2" class="h2"><div>
æ€»ç»“
</div></div>
<div id="20230905115155-6cmq4se" data-node-id="20230905115155-6cmq4se" data-type="NodeParagraph" class="p">è¿™ä¸ª
<span data-type="s">é¡¹ç›®</span>
 æ–¹æ³• çš„é‡ç‚¹åœ¨äºå¤ç”¨äº†æœåŠ¡ç«¯æä¾›æ¥å£çš„ç±»å‹ï¼Œå¹¶ä¸”å¯ä»¥ç›´æ¥è·³è½¬è¿‡å»ã€‚
</div>
<div id="20230905115155-l0z7yi0" data-node-id="20230905115155-l0z7yi0" data-type="NodeParagraph" class="p">è¿½æ±‚ç®€å•çš„æ–¹æ³•ï¼Œå®Œå–„ç±»å‹ä½“éªŒã€‚
</div>
<div id="20230905115155-tz0u6kw" data-node-id="20230905115155-tz0u6kw" data-type="NodeParagraph" class="p">æˆ‘å†™å‡ºè¿™ä¸ªæƒ³æ³•ä¹‹åè§‰å¾—æˆ‘ä»¥å‰å°±æ˜¯æ†¨æ†¨ï¼Œè‡ªå·±å†™ä¸€ä¸ªé¡¹ç›®è¿˜ç»´æŠ¤ä¸€ä»½æ¥å£æ–‡æ¡£ ğŸ˜€ã€‚
</div>
<div id="20210410111402-fph404k" data-node-id="20210410111402-fph404k" data-type="NodeThematicBreak" class="hr"><div></div></div>
<div id="20230905115155-qgf4bxk" data-node-id="20230905115155-qgf4bxk" data-type="NodeParagraph" class="p">ç°åœ¨ codesandbox è¿˜ä¸æ”¯æŒä¸­æ–‡æ–‡ä»¶åï¼Œå‘äº†æˆ‘ä¸€æŠŠ
</div>
<div id="20230905115155-s4d55ne" data-node-id="20230905115155-s4d55ne" data-type="NodeParagraph" class="p"><span data-type="NodeImage" class="img" style="undefined"
      ><img
        src="./../../assets/20201109171018-un3fain-image.png"
        data-src="./../../assets/20201109171018-un3fain-image.png"
        title=""
        style="undefined"
        loading="lazy"
      /><span class="protyle-action__title"></span></span
    >
</div>
<div id="20210410114552-ae38v0j" data-node-id="20210410114552-ae38v0j" data-type="NodeHeading" updated="20210609090256" data-subtype="h2" class="h2"><div><span data-type="block-ref"     data-subtype="d"     data-id="20201127151651-bbzj4xi">
          <a href="./../../record/æ¯æ—¥æ€»ç»“/2020/doc/uniapp composition-api ä¸­ä½¿ç”¨ onShowã€onLoad è¿™æ ·çš„ç”Ÿå‘½å‘¨æœŸ.html#20201127151651-bbzj4xi">uniapp composition-api ä¸­ä½¿ç”¨ onShowã€onLoad è¿™æ ·çš„ç”Ÿå‘½å‘¨æœŸ</a>
  </span>
</div></div>
<div id="20210609090256-d8w4uej" data-node-id="20210609090256-d8w4uej" data-type="NodeParagraph" updated="20210609090256" class="p"></div>

        </div>
        <script src="https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/appearance/icons/material/icon.js?2.10.5"></script>
        <script src="https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/build/export/protyle-method.js?2.10.5"></script>
        <script src="https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/protyle/js/lute/lute.min.js?2.10.5"></script>
        <script>
          window.siyuan = {
            config: {
              appearance: {
                mode: 0,
                codeBlockThemeDark: "base16/dracula",
                codeBlockThemeLight: "github",
              },
              editor: {
                codeLineWrap: true,
                codeLigatures: false,
                plantUMLServePath: "https://www.plantuml.com/plantuml/svg/~1",
                codeSyntaxHighlightLineNum: true,
                katexMacros: JSON.stringify({}),
              },
            },
            languages: { copy: "å¤åˆ¶" },
          };
          const previewElement = document.getElementById("preview");
          Protyle.highlightRender(previewElement, "https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/protyle");
          Protyle.mathRender(previewElement, "https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/protyle", false);
          Protyle.mermaidRender(previewElement, "https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/protyle");
          Protyle.flowchartRender(previewElement, "https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/protyle");
          Protyle.graphvizRender(previewElement, "https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/protyle");
          Protyle.chartRender(previewElement, "https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/protyle");
          Protyle.mindmapRender(previewElement, "https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/protyle");
          Protyle.abcRender(previewElement, "https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/protyle");
          Protyle.htmlRender(previewElement);
          Protyle.plantumlRender(previewElement, "https://fastly.jsdelivr.net/gh/siyuan-note/oceanpress@main/apps/frontend/public/notebook/stage/protyle");
          document.querySelectorAll(".protyle-action__copy").forEach((item) => {
            item.addEventListener("click", (event) => {
              navigator.clipboard.writeText(
                item.parentElement.nextElementSibling.textContent.trimEnd(),
              );
              event.preventDefault();
              event.stopPropagation();
            });
          });
        </script>
        <footer>
<p style="text-align:center;margin:15px 0;">
  æŠ€æœ¯æ”¯æŒï¼š
  <a target="_blank" href="https://github.com/2234839/oceanPress_js">OceanPress</a>|
    <a target="_blank" href="https://heartstack.space/user/%E5%AD%90%E8%99%9A/posts">å´®ç”Ÿï¼ˆå­è™šï¼‰</a> |
    <a target="_blank" href="//beian.miit.gov.cn">æ¹˜ICPå¤‡18021783å·-1</a>
</p>
</footer>
      </body>
    </html>